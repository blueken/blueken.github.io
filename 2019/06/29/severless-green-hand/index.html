<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>severless-green-hand | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="serverless-green-hand白驹过隙，一晃小猪已经出生了。妈妈取名：昱珩 这期间经历了陪产，打针，终于到下个月10号要百天了。 忽然发现好久没有写 serverless 相关的文章了。再看以前写的的小猪胎动发现竟然自己都快看不懂了。真的是要拳不离手，曲不离口才行。 于是本篇我做为一个新手再次踏上 serverless 的探索之路，目标是把 servreless-stack 上的文章翻">
<meta name="keywords" content="serverless,serverless-stack">
<meta property="og:type" content="article">
<meta property="og:title" content="severless-green-hand">
<meta property="og:url" content="http://yoursite.com/2019/06/29/severless-green-hand/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="serverless-green-hand白驹过隙，一晃小猪已经出生了。妈妈取名：昱珩 这期间经历了陪产，打针，终于到下个月10号要百天了。 忽然发现好久没有写 serverless 相关的文章了。再看以前写的的小猪胎动发现竟然自己都快看不懂了。真的是要拳不离手，曲不离口才行。 于是本篇我做为一个新手再次踏上 serverless 的探索之路，目标是把 servreless-stack 上的文章翻">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-06-29T08:57:49.599Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="severless-green-hand">
<meta name="twitter:description" content="serverless-green-hand白驹过隙，一晃小猪已经出生了。妈妈取名：昱珩 这期间经历了陪产，打针，终于到下个月10号要百天了。 忽然发现好久没有写 serverless 相关的文章了。再看以前写的的小猪胎动发现竟然自己都快看不懂了。真的是要拳不离手，曲不离口才行。 于是本篇我做为一个新手再次踏上 serverless 的探索之路，目标是把 servreless-stack 上的文章翻">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-severless-green-hand" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/29/severless-green-hand/" class="article-date">
  <time datetime="2019-06-29T07:59:27.000Z" itemprop="datePublished">2019-06-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      severless-green-hand
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="serverless-green-hand"><a href="#serverless-green-hand" class="headerlink" title="serverless-green-hand"></a>serverless-green-hand</h2><p>白驹过隙，一晃小猪已经出生了。妈妈取名：昱珩</p>
<p>这期间经历了陪产，打针，终于到下个月10号要百天了。</p>
<p>忽然发现好久没有写 serverless 相关的文章了。再看以前写的的小猪胎动发现竟然自己都快看不懂了。真的是要拳不离手，曲不离口才行。</p>
<p>于是本篇我做为一个新手再次踏上 serverless 的探索之路，目标是把 servreless-stack 上的文章翻译给国内的小伙伴们</p>
<p>如果您感兴趣的话，那就快跟上吧。common on~</p>
<h2 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h2><h3 id="PREFACE"><a href="#PREFACE" class="headerlink" title="PREFACE"></a>PREFACE</h3><ul>
<li>Who is this guide for?</li>
<li>What does this guide cover?</li>
<li>How to get help?<h2 id="Part-I-The-Basics"><a href="#Part-I-The-Basics" class="headerlink" title="Part I - The Basics"></a>Part I - The Basics</h2><h3 id="INTRODUCTION"><a href="#INTRODUCTION" class="headerlink" title="INTRODUCTION"></a>INTRODUCTION</h3></li>
<li>What is Serverless?</li>
<li>What is AWS Lambda?</li>
<li>Why create Serverless apps?<h3 id="SET-UP-YOUR-AWS-ACCOUNT"><a href="#SET-UP-YOUR-AWS-ACCOUNT" class="headerlink" title="SET UP YOUR AWS ACCOUNT"></a>SET UP YOUR AWS ACCOUNT</h3></li>
<li>Create an AWS account</li>
<li>Create an IAM user<ul>
<li>What is IAM</li>
<li>What is an ARN</li>
</ul>
</li>
<li>Configure the AWS CLI<h3 id="SETTING-UP-THE-SERVERLESS-BACKEND"><a href="#SETTING-UP-THE-SERVERLESS-BACKEND" class="headerlink" title="SETTING UP THE SERVERLESS BACKEND"></a>SETTING UP THE SERVERLESS BACKEND</h3></li>
<li>Create a DynamoDB table</li>
<li>Create an S3 bucket for file uploads</li>
<li>Create a Cognito user pool<ul>
<li>Create a Cognito test user</li>
</ul>
</li>
<li>Set up the Serverless Framework<ul>
<li>Add support for ES6/ES7 JavaScript<h3 id="BUILDING-A-SERVERLESS-REST-API"><a href="#BUILDING-A-SERVERLESS-REST-API" class="headerlink" title="BUILDING A SERVERLESS REST API"></a>BUILDING A SERVERLESS REST API</h3></li>
</ul>
</li>
<li>Add a create note API</li>
<li>Add a get note API</li>
<li>Add a list all the notes API</li>
<li>Add an update note API</li>
<li>Add a delete note API</li>
<li>Handle API Gateway CORS errors<h3 id="DEPLOYING-THE-BACKEND"><a href="#DEPLOYING-THE-BACKEND" class="headerlink" title="DEPLOYING THE BACKEND"></a>DEPLOYING THE BACKEND</h3></li>
<li>Deploy the APIs</li>
<li>Create a Cognito identity pool<ul>
<li>Cognito user pool vs identity pool</li>
</ul>
</li>
<li>Test the APIs<h3 id="SETTING-UP-A-REACT-APP"><a href="#SETTING-UP-A-REACT-APP" class="headerlink" title="SETTING UP A REACT APP"></a>SETTING UP A REACT APP</h3></li>
<li>Create a new React.js app<ul>
<li>Add app favicons</li>
<li>Set up custom fonts</li>
<li>Set up Bootstrap</li>
</ul>
</li>
<li>Handle routes with React Router<ul>
<li>Create containers</li>
<li>Adding links in the navbar</li>
<li>Handle 404s</li>
</ul>
</li>
<li>Configure AWS Amplify<h3 id="BUILDING-A-REACT-APP"><a href="#BUILDING-A-REACT-APP" class="headerlink" title="BUILDING A REACT APP"></a>BUILDING A REACT APP</h3></li>
<li>Create a login page<ul>
<li>Login with AWS Cognito</li>
<li>Add the session to the state</li>
<li>Load the state from the session</li>
<li>Clear the session on logout</li>
<li>Redirect on login and logout</li>
<li>Give feedback while logging in</li>
</ul>
</li>
<li>Create a signup page<ul>
<li>Create the signup form</li>
<li>Signup with AWS Cognito</li>
</ul>
</li>
<li>Add the create note page<ul>
<li>Call the create API</li>
<li>Upload a file to S3</li>
</ul>
</li>
<li>List all the notes<ul>
<li>Call the list API</li>
</ul>
</li>
<li>Display a note<ul>
<li>Render the note form</li>
<li>Save changes to a note</li>
<li>Delete a note</li>
</ul>
</li>
<li>Set up secure pages<ul>
<li>Create a route that redirects</li>
<li>Use the redirect routes</li>
<li>Redirect on login<h3 id="EPLOYING-A-REACT-APP-ON-AWS"><a href="#EPLOYING-A-REACT-APP-ON-AWS" class="headerlink" title="EPLOYING A REACT APP ON AWS"></a>EPLOYING A REACT APP ON AWS</h3></li>
</ul>
</li>
<li>Deploy the Frontend<ul>
<li>Create an S3 bucket</li>
<li>Deploy to S3</li>
<li>Create a CloudFront distribution</li>
<li>Set up your domain with CloudFront</li>
<li>Set up www domain redirect</li>
<li>Set up SSL</li>
</ul>
</li>
<li>Deploy updates<ul>
<li>Update the app</li>
<li>Deploy again<h2 id="Part-II-Automation"><a href="#Part-II-Automation" class="headerlink" title="Part II - Automation"></a>Part II - Automation</h2><h3 id="INTRODUCTION-1"><a href="#INTRODUCTION-1" class="headerlink" title="INTRODUCTION"></a>INTRODUCTION</h3>Getting production ready<h3 id="CREATE-A-NEW-BACKEND"><a href="#CREATE-A-NEW-BACKEND" class="headerlink" title="CREATE A NEW BACKEND"></a>CREATE A NEW BACKEND</h3></li>
</ul>
</li>
<li>Initialize the backend repo<ul>
<li>Organize the backend repo<h3 id="INFRASTRUCTU-RE-AS-CODE"><a href="#INFRASTRUCTU-RE-AS-CODE" class="headerlink" title="INFRASTRUCTU#RE AS CODE"></a>INFRASTRUCTU#RE AS CODE</h3></li>
</ul>
</li>
<li>What is Infrastructure as Code?<ul>
<li>Configure DynamoDB in Serverless</li>
<li>Configure S3 in Serverless</li>
<li>Configure Cognito User Pool in Serverless</li>
<li>Configure Cognito Identity Pool in Serverless</li>
</ul>
</li>
<li>Use environment variables in Lambda functions</li>
<li>Deploy your Serverless infrastructure<h3 id="ADDING-A-STRIPE-BILLING-API"><a href="#ADDING-A-STRIPE-BILLING-API" class="headerlink" title="ADDING A STRIPE BILLING API"></a>ADDING A STRIPE BILLING API</h3></li>
<li>Working with 3rd party APIs<ul>
<li>Setup a Stripe account</li>
<li>Add a billing API</li>
<li>Load secrets from env.yml</li>
</ul>
</li>
<li>Test the billing API<h3 id="ADDING-UNIT-TESTS"><a href="#ADDING-UNIT-TESTS" class="headerlink" title="ADDING UNIT TESTS"></a>ADDING UNIT TESTS</h3></li>
<li>Unit tests in Serverless<h3 id="AUTOMATING-SERVERLESS-DEPLOYMENTS"><a href="#AUTOMATING-SERVERLESS-DEPLOYMENTS" class="headerlink" title="AUTOMATING SERVERLESS DEPLOYMENTS"></a>AUTOMATING SERVERLESS DEPLOYMENTS</h3></li>
<li>Automating Serverless deployments<ul>
<li>Setting up your project on Seed</li>
<li>Configure secrets in Seed</li>
<li>Deploying through Seed</li>
<li>Set custom domains through Seed</li>
</ul>
</li>
<li>Test the configured APIs</li>
<li>Monitoring deployments in Seed<h3 id="CONNECT-TO-THE-NEW-BACKEND"><a href="#CONNECT-TO-THE-NEW-BACKEND" class="headerlink" title="CONNECT TO THE NEW BACKEND"></a>CONNECT TO THE NEW BACKEND</h3></li>
<li>Initialize the frontend repo<ul>
<li>Manage environments in Create React App<h3 id="ADDING-A-BILLING-FORM"><a href="#ADDING-A-BILLING-FORM" class="headerlink" title="ADDING A BILLING FORM"></a>ADDING A BILLING FORM</h3></li>
</ul>
</li>
<li>Create a settings page<ul>
<li>Add Stripe keys to config</li>
<li>Create a billing form</li>
<li>Connect the billing form<h3 id="AUTOMATING-REACT-APP-DEPLOYMENTS"><a href="#AUTOMATING-REACT-APP-DEPLOYMENTS" class="headerlink" title="AUTOMATING REACT APP DEPLOYMENTS"></a>AUTOMATING REACT APP DEPLOYMENTS</h3></li>
</ul>
</li>
<li>Automating React Deployments<ul>
<li>Create a build script</li>
<li>Setting up your project on Netlify</li>
<li>Custom Domains in Netlify</li>
</ul>
</li>
<li>Frontend workflow<h3 id="CONCLUSION"><a href="#CONCLUSION" class="headerlink" title="CONCLUSION"></a>CONCLUSION</h3></li>
<li>Wrapping up</li>
<li>Futher reading</li>
<li>Translations</li>
<li>Giving back</li>
<li>Changelog</li>
<li>Staying up to date</li>
<li>Extra Credit<h3 id="SERVERLESS-ARCHITECTURE"><a href="#SERVERLESS-ARCHITECTURE" class="headerlink" title="SERVERLESS ARCHITECTURE"></a>SERVERLESS ARCHITECTURE</h3></li>
<li>Organizing Serverless projects</li>
<li>Cross-stack references in Serverless<ul>
<li>DynamoDB as a Serverless service</li>
<li>S3 as a Serverless service</li>
<li>API Gateway domains across services</li>
<li>Cognito as a Serverless service</li>
</ul>
</li>
<li>Deploying multiple services in Serverless<h3 id="BACKEND"><a href="#BACKEND" class="headerlink" title="BACKEND"></a>BACKEND</h3></li>
<li>API Gateway and Lambda Logs</li>
<li>Debugging Serverless API Issues</li>
<li>Serverless environment variables</li>
<li>Stages in Serverless Framework</li>
<li>Backups in DynamoDB</li>
<li>Configure multiple AWS profiles</li>
<li>Customize the Serverless IAM Policy</li>
<li>Mapping Cognito Identity Id and User Pool Id</li>
<li>Connect to API Gateway with IAM auth</li>
<li>Serverless Node.js Starter<h3 id="USER-MANAGEMENT"><a href="#USER-MANAGEMENT" class="headerlink" title="USER MANAGEMENT"></a>USER MANAGEMENT</h3></li>
<li>Manage User Accounts in AWS Amplify<ul>
<li>Handle Forgot and Reset Password</li>
<li>Allow Users to Change Passwords</li>
<li>Allow Users to Change Their Email<h3 id="FRONTEND"><a href="#FRONTEND" class="headerlink" title="FRONTEND"></a>FRONTEND</h3></li>
</ul>
</li>
<li>Code Splitting in Create React App</li>
<li>Environments in Create React App</li>
<li>Facebook Login with Cognito using AWS Amplify</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/06/29/severless-green-hand/" data-id="ckbtajnpb002c6ucp9wlswvjw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/serverless/">serverless</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/serverless-stack/">serverless-stack</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/06/23/serverless-aliyun/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          serverless-aliyun
        
      </div>
    </a>
  
  
    <a href="/2019/02/20/regexp/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">regexp</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/KeyboardEvent/">KeyboardEvent</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/centos/">centos</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/database/">database</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/frontend/">frontend</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/getsby/">getsby</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongoose/">mongoose</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/">nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nosql/">nosql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/object/">object</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/regexp/">regexp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/serverless/">serverless</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/serverless-stack/">serverless-stack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/猪坚强/">猪坚强</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/KeyboardEvent/" style="font-size: 10px;">KeyboardEvent</a> <a href="/tags/centos/" style="font-size: 10px;">centos</a> <a href="/tags/database/" style="font-size: 12.5px;">database</a> <a href="/tags/frontend/" style="font-size: 15px;">frontend</a> <a href="/tags/getsby/" style="font-size: 12.5px;">getsby</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/mongodb/" style="font-size: 12.5px;">mongodb</a> <a href="/tags/mongoose/" style="font-size: 10px;">mongoose</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a> <a href="/tags/nosql/" style="font-size: 12.5px;">nosql</a> <a href="/tags/object/" style="font-size: 10px;">object</a> <a href="/tags/regexp/" style="font-size: 10px;">regexp</a> <a href="/tags/serverless/" style="font-size: 20px;">serverless</a> <a href="/tags/serverless-stack/" style="font-size: 12.5px;">serverless-stack</a> <a href="/tags/shell/" style="font-size: 10px;">shell</a> <a href="/tags/猪坚强/" style="font-size: 17.5px;">猪坚强</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/06/23/serverless-aliyun/">serverless-aliyun</a>
          </li>
        
          <li>
            <a href="/2019/06/29/severless-green-hand/">severless-green-hand</a>
          </li>
        
          <li>
            <a href="/2019/02/20/regexp/">regexp</a>
          </li>
        
          <li>
            <a href="/2019/02/14/linux-tips/">linux-tips</a>
          </li>
        
          <li>
            <a href="/2019/02/14/serverless-stack-cn/">serverless-stack-cn</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>